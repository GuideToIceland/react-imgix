{"version":3,"sources":["../../src/HOCs/deprecatePropsHOC.jsx"],"names":["React","Component","PropTypes","warning","DEPRECATED_PROPS","deprecatePropsHOC","WrappedComponent","WithDeprecatedProps","props","imgixParams","customParams","propsWithOutDeprecated","forEach","deprecatedProp","faces","crop","entropy","propTypes","auto","array","object","string","bool","fit","defaultProps","displayName"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,SAASC,OAAT,QAAwB,WAAxB;AAEA,IAAMC,gBAAgB,GAAG,CAAC,MAAD,EAAS,MAAT,EAAiB,KAAjB,CAAzB;;AACA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAoB,CAAAC,gBAAgB,EAAI;AAC5C,MAAMC,mBAAmB,GAAG,SAAtBA,mBAAsB,CAAAC,KAAK,EAAI;AACnC,QAAMC,WAAW,qBACXD,KAAK,CAACE,YAAN,IAAsB,EADX,EAEZF,KAAK,CAACC,WAFM,CAAjB;;AAIA,QAAME,sBAAsB,qBACvBH,KADuB;AAE1BC,MAAAA,WAAW,EAAXA;AAF0B,MAA5B;;AAIAL,IAAAA,gBAAgB,CAACQ,OAAjB,CAAyB,UAAAC,cAAc,EAAI;AACzCV,MAAAA,OAAO,CACL,EAAEU,cAAc,IAAIL,KAApB,CADK,sBAEQK,cAFR,8GAE0HA,cAF1H,kBAAP;;AAKA,UAAIA,cAAc,IAAIL,KAAtB,EAA6B;AAC3B,eAAOG,sBAAsB,CAACE,cAAD,CAA7B;AACAJ,QAAAA,WAAW,CAACI,cAAD,CAAX,GAA8BL,KAAK,CAACK,cAAD,CAAnC;AACD;AACF,KAVD;AAWAV,IAAAA,OAAO,CACL,EAAE,kBAAkBK,KAApB,CADK,wJAAP;AAIA,WAAOG,sBAAsB,CAACD,YAA9B;;AAEA,QAAIF,KAAK,CAACM,KAAV,EAAiB;AACfX,MAAAA,OAAO,CACL,KADK,uIAAP;AAIA,aAAOQ,sBAAsB,CAACG,KAA9B;;AACA,UAAI,CAACL,WAAW,CAACM,IAAjB,EAAuB;AACrBN,QAAAA,WAAW,CAACM,IAAZ,GAAmB,OAAnB;AACD;AACF;;AACD,QAAIP,KAAK,CAACQ,OAAV,EAAmB;AACjBb,MAAAA,OAAO,CACL,KADK,2IAAP;AAIA,aAAOQ,sBAAsB,CAACK,OAA9B;;AACA,UAAI,CAACP,WAAW,CAACM,IAAjB,EAAuB;AACrBN,QAAAA,WAAW,CAACM,IAAZ,GAAmB,SAAnB;AACD;AACF;;AAED,WAAO,oBAAC,gBAAD,EAAsBJ,sBAAtB,CAAP;AACD,GAhDD;;AAiDAJ,EAAAA,mBAAmB,CAACU,SAApB,qBACKX,gBAAgB,CAACW,SADtB;AAEEC,IAAAA,IAAI,EAAEhB,SAAS,CAACiB,KAFlB;AAGET,IAAAA,YAAY,EAAER,SAAS,CAACkB,MAH1B;AAIEL,IAAAA,IAAI,EAAEb,SAAS,CAACmB,MAJlB;AAKEL,IAAAA,OAAO,EAAEd,SAAS,CAACoB,IALrB;AAMER,IAAAA,KAAK,EAAEZ,SAAS,CAACoB,IANnB;AAOEC,IAAAA,GAAG,EAAErB,SAAS,CAACmB;AAPjB;AASAd,EAAAA,mBAAmB,CAACiB,YAApB,GAAmC;AACjCf,IAAAA,WAAW,EAAE;AADoB,GAAnC;AAGAF,EAAAA,mBAAmB,CAACkB,WAApB,iCACEnB,gBAAgB,CAACmB,WADnB;AAIA,SAAOlB,mBAAP;AACD,CAnED;;AAqEA,SAASF,iBAAT","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { warning } from \"../common\";\n\nconst DEPRECATED_PROPS = [\"auto\", \"crop\", \"fit\"];\nconst deprecatePropsHOC = WrappedComponent => {\n  const WithDeprecatedProps = props => {\n    const imgixParams = {\n      ...(props.customParams || {}),\n      ...props.imgixParams\n    };\n    const propsWithOutDeprecated = {\n      ...props,\n      imgixParams\n    };\n    DEPRECATED_PROPS.forEach(deprecatedProp => {\n      warning(\n        !(deprecatedProp in props),\n        `The prop '${deprecatedProp}' has been deprecated and will be removed in v9. Please update the usage to <Imgix imgixParams={{${deprecatedProp}: value}} />`\n      );\n\n      if (deprecatedProp in props) {\n        delete propsWithOutDeprecated[deprecatedProp];\n        imgixParams[deprecatedProp] = props[deprecatedProp];\n      }\n    });\n    warning(\n      !(\"customParams\" in props),\n      `The prop 'customParams' has been replaced with 'imgixParams' and will be removed in v9. Please update usage to <Imgix imgixParams={customParams} />`\n    );\n    delete propsWithOutDeprecated.customParams;\n\n    if (props.faces) {\n      warning(\n        false,\n        `The prop 'faces' has been deprecated and will be removed in v9. Please update the usage to <Imgix imgixParams={{crop: 'faces'}} />`\n      );\n      delete propsWithOutDeprecated.faces;\n      if (!imgixParams.crop) {\n        imgixParams.crop = \"faces\";\n      }\n    }\n    if (props.entropy) {\n      warning(\n        false,\n        `The prop 'entropy' has been deprecated and will be removed in v9. Please update the usage to <Imgix imgixParams={{crop: 'entropy'}} />`\n      );\n      delete propsWithOutDeprecated.entropy;\n      if (!imgixParams.crop) {\n        imgixParams.crop = \"entropy\";\n      }\n    }\n\n    return <WrappedComponent {...propsWithOutDeprecated} />;\n  };\n  WithDeprecatedProps.propTypes = {\n    ...WrappedComponent.propTypes,\n    auto: PropTypes.array,\n    customParams: PropTypes.object,\n    crop: PropTypes.string,\n    entropy: PropTypes.bool,\n    faces: PropTypes.bool,\n    fit: PropTypes.string\n  };\n  WithDeprecatedProps.defaultProps = {\n    imgixParams: {}\n  };\n  WithDeprecatedProps.displayName = `WithDeprecatedProps(${\n    WrappedComponent.displayName\n  })`;\n\n  return WithDeprecatedProps;\n};\n\nexport { deprecatePropsHOC };\n"],"file":"deprecatePropsHOC.js"}